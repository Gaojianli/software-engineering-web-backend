stages:
  - test
  - build

test:
  image: registry.cn-hangzhou.aliyuncs.com/shinetechchina/dotnet_core_sdk:3.1
  stage: test
  script:
    - dotnet test web-backend.sln
    
build:
  image: registry.cn-hangzhou.aliyuncs.com/shinetechchina/dotnet_core_sdk:3.1
  stage: build
  before_script:
    - dotnet restore
  script:
    - dotnet publish -c release